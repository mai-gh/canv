<!DOCTYPE html>
<html>
  <head>
    <title>TITLE</title>
    <link href="data:image/x-icon;" rel="icon" />
    <style>
      body {
        margin: 0;
        overflow: hidden;
        color: #fff;
        background-color: #111;

      }
    </style>
  </head>
  <body>
    <canvas id='canvas' width="600" height="600" />
    <script>
      let colorBool = true;
      let initBool = true;

      const stepMS = 40;
      const rotateAmount = (Math.PI / 6);
      let secondsPassed = 0
      let timeSnap = 0;
      let oldTimeStamp = 0   
      let fps = 0;

      const ctx = document.getElementById('canvas').getContext('2d');
      ctx.strokeStyle = "blue"
      ctx.lineWidth = 1;
      ctx.save();
      ctx.translate(300, 300);
      const cursor = {
        x: 300,
        y: 300,
      };

      addEventListener("mousemove", (e) => {
        cursor.x = e.clientX;
        cursor.y = e.clientY;
      });

      const displayFPS = (timeStamp) => {
        secondsPassed = (timeStamp - oldTimeStamp) / 1000;
        oldTimeStamp = timeStamp;
        ctx.save();
        ctx.setTransform(1, 0, 0, 1, 0, 0); // reset translation instead of save / restore
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        fps = Math.round(1 / secondsPassed);
        ctx.font = '16px Sans-serif';
        ctx.strokeStyle = 'black';
        ctx.lineWidth = 8;
        ctx.strokeText(fps, 10, 30);
        ctx.fillStyle = 'white';
        ctx.fillText(fps, 10, 30);
        ctx.restore();
      }

      const line = () => {
        ctx.beginPath();
        ctx.moveTo(0, -16);
        ctx.lineTo(0, -32);
        ctx.stroke();
      }

      const draw = async (timeStamp) => {
        ctx.setTransform(1, 0, 0, 1, 0, 0); // reset translation instead of save / restore
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.translate(cursor.x, cursor.y);

        displayFPS(timeStamp);

        ctx.moveTo(150, 150);
//        ctx.arc(75, 75, 35, 1, 5, true);
        ctx.quadraticCurveTo(-25, -25, -25, 0);
        ctx.stroke();

        if (initBool) {
          timeSnap = timeStamp;
          initBool = false;
          if (colorBool) {
            ctx.strokeStyle = "blue"  
          } else {
            ctx.strokeStyle = "red"
          }
        }
  
        for (let i = 0; i < 12; i++) {
          if ((timeStamp - timeSnap) > (i * stepMS)) {
            line();
            ctx.rotate(rotateAmount);
          }
        }
              
        for (let i = 12; i <= 24; i++) {
          if ((i === 24) && ((timeStamp - timeSnap) > (i * stepMS))) {
            initBool = true;
            colorBool = !colorBool;
            break;
          }
          if ((timeStamp - timeSnap) > (i * stepMS)) {
            ctx.clearRect(-1, 0, 2, -100);
            ctx.rotate(rotateAmount);
          }
        }

        window.requestAnimationFrame(draw);
      }

      window.requestAnimationFrame(draw);
    </script>
  </body>
</html>
